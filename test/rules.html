<!DOCTYPE html>
<html>
<head>
    <title>UI Password Strength Meter Example</title>
    <link rel="stylesheet" media="screen" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/base/jquery-ui.css" />
</head>
<body>
    <form>
        <fieldset>
            <legend>Please type in your password</legend>
            <input type="text" id="username" /><br />
            <input type="password" id="password" />
        </fieldset>
    </form>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>

    <script type="text/javascript" src="ui.pwstrength.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            "use strict";
            $.ui.pwstrength.addRule("notEmail", function (ui, word, score) {
                return word.match(/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i) && score;
            }, -100, true);

            var common_words = ["password", "god", "123456"];

            $.ui.pwstrength.addRule("commonWords", function (ui, word, score) {
                $.each(common_words, function (i, item) {
                    var re = new RegExp(item, "gi");
                    if (word.match(re)) {
                        return score;
                    }
                });
            }, -500, true);

            jQuery(':password').pwstrength();
        });
    </script>
</body>
</html>
